<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
    
    <h1>User Details - <span data-bind="text: fullName"></span></h1>
    <p>Name: <input data-bind="value: firstName" /><input data-bind="value: lastName"/></p>
    <p>Email: <input  data-bind="value: email" /></p>

    <div id="friends">
        <h1>Friends (<span>X</span>):</h1>
        <ul></ul>
        <input id="newFriend" value="" /><button>Add Friend</button>
    </div>
    <br />
    <button>Save Details</button>
    <br />
    <button>Load Details</button>

    <script src="Scripts/jquery-1.7.1.js"></script>
    <script src="Scripts/knockout-2.1.0.js"></script>
    
    <script id="friendsTemplate" type="text/html">
        <li>
            <input data-bind="value: name" />
            <button>Remove</button>
            <label><input type="checkbox" data-bind="checked: isOnTwitter" /> Is on twitter</label>
            <input data-bind="value: twitterHandle" />
        </li>
    </script>

    <script>
        $(function () {
            function friend() {
                return {
                    name: ko.observable(name),
                    isOnTwitter: ko.observable(false),
                    twitterHandle: ko.observable()
                }
            }

            var ViewModel = 
                {
                    firstName: ko.observable("Bert"),
                    lastName: ko.observable("Smith"),
                    email: ko.observable("bert@smith.com"),

                    friends: ko.observableArray([new friend("annie"), new friend("steve")])
                }

            ViewModel.fullName = ko.dependentObservable(function () {
                return this.firstName() + ' ' + this.lastName();
            }, ViewModel);

            ko.applyBindings(ViewModel);
        });
    </script>
</body>
</html>
